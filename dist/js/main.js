"use strict";var searchBtn=document.querySelector(".search__btn"),searchCloseBtn=document.querySelector(".search__close-btn"),phone=document.querySelector(".phone"),openBurger=document.querySelector(".burger__open"),closeBurger=document.querySelector(".burger__close"),navLinks=document.querySelectorAll(".nav__mobile-link"),tl=gsap.timeline();tl.from(".nav",{duration:3,opacity:0,ease:"power3.out"}).from([".block-poster",".hero__picture"],{duration:1,opacity:0,ease:"power3.out"},"<");var searchInput=gsap.timeline({paused:!0,onStart:openSearch,onReverseComplete:closeSearch}).fromTo([".search__mobile",".search__mobile-label"],{duration:.5,display:"none",opacity:0,x:100,ease:"power1.inOut"},{duration:.5,display:"flex",opacity:1,x:0,ease:"power1.inOut"}).to(".search__btn",{duration:.5,opacity:0,display:"none",ease:"power1.inOut"},"<");function openSearch(){window.innerWidth<=998&&searchInput.play()}function closeSearch(){searchInput.reverse()}searchBtn.addEventListener("click",openSearch),searchCloseBtn.addEventListener("click",closeSearch);var tlBurger=gsap.timeline({paused:!0,onStart:addMenu,onReverseComplete:removeMenu}).fromTo(closeBurger,{duration:.5,opacity:0,display:"none",ease:"power3.out"},{duration:.5,opacity:1,display:"block",ease:"power3.out"},"<").fromTo(".nav__mobile",{duration:.5,display:"none",opacity:0,x:-100,ease:"power3.out"},{duration:.5,display:"flex",opacity:1,x:0,ease:"power3.out"},"<").from(".nav__mobile-list",{duration:.5,x:400,ease:"power3.out"},"<");function addMenu(){phone.classList.add("phone__mobile_active"),document.body.classList.add("no-scroll"),tlBurger.play()}function removeMenu(){phone.classList.remove("phone__mobile_active"),document.body.classList.remove("no-scroll"),tlBurger.reverse()}function clickOnBergerLink(){navLinks.forEach((function(e){e.addEventListener("click",(function(){tlBurger.reverse()}))}))}function checkFormNewsletter(){new window.JustValidate(".about__newsletter-form").addField(".about__newsletter-input",[{rule:"email",errorMessage:"Недопустимый формат"}]);var e=document.querySelector(".about__newsletter-form");e.addEventListener("submit",(function(o){o.preventDefault(),e.reset()}))}function switchTabs(){var e=document.querySelectorAll(".project__btn-tab"),o=document.querySelectorAll(".project__list");e.forEach((function(t,r){t.addEventListener("click",(function(){removeClass(e,"project__btn-tab_active"),removeClass(o,"project__list_active"),t.classList.add("project__btn-tab_active");var r=t.textContent.trim();o.forEach((function(e){e.dataset.tabNum===r&&(e.classList.add("project__list_active"),tl.fromTo(e,{duration:.5,x:200,opacity:0,ease:"power3.out"},{duration:.5,x:0,opacity:1,ease:"power3.out"}))}))}))}))}function removeClass(e,o){e.forEach((function(e){e.classList.remove(o)}))}function slider(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=document.querySelectorAll(".services__slide"),t=document.querySelector(".services__slider_active"),r=document.querySelectorAll('[data-services="Услуги по ретуши"]'),n=document.querySelectorAll('[data-services="Основной перечень"]');function a(e,o){e.forEach((function(e){return e.style.display="none"})),o.forEach((function(e){return e.style.display=""}))}o[e].classList.add("services__slide_active"),r.forEach((function(e){return e.style.display="none"})),o.forEach((function(e){e.addEventListener("click",(function(){removeClass(o,"services__slide_active"),e.classList.add("services__slide_active"),"Услуги по ретуши"===e.textContent?a(n,r):a(r,n),tl.to(t,{duration:.5,x:e.offsetLeft,ease:"power3.out"}).fromTo([n,r],{duration:.7,y:200,opacity:0},{duration:.7,y:0,opacity:1,ease:"power3.out"},"<")}))}))}function init(){var e=new ymaps.Map("map",{center:[55.76940785,37.63840266676759],zoom:16}),o=new ymaps.Placemark([55.76940785,37.63840266676759],{iconLayout:"default#image",iconImageHref:"../images/icons/marker.png",icon_imageSize:[40,40],iconImageOffset:[-20,-40]});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl"),e.geoObjects.add(o)}openBurger.addEventListener("click",addMenu),closeBurger.addEventListener("click",removeMenu),clickOnBergerLink(),checkFormNewsletter(),switchTabs(),slider(0),ymaps.ready(init);